{"version":3,"file":"match-label-text.js","names":["_matches","require","_accessiblity","_findAll","_matchTextContent","matchLabelText","root","element","expectedText","options","matchAccessibilityLabel","matchAccessibilityLabelledBy","getAccessibilityLabelledBy","extpectedLabel","matches","getAccessibilityLabel","normalizer","exact","nativeId","text","findAll","node","props","nativeID","matchTextContent","length"],"sources":["../../../src/helpers/matchers/match-label-text.ts"],"sourcesContent":["import { ReactTestInstance } from 'react-test-renderer';\nimport { matches, TextMatch, TextMatchOptions } from '../../matches';\nimport {\n  getAccessibilityLabel,\n  getAccessibilityLabelledBy,\n} from '../accessiblity';\nimport { findAll } from '../find-all';\nimport { matchTextContent } from './match-text-content';\n\nexport function matchLabelText(\n  root: ReactTestInstance,\n  element: ReactTestInstance,\n  expectedText: TextMatch,\n  options: TextMatchOptions = {}\n) {\n  return (\n    matchAccessibilityLabel(element, expectedText, options) ||\n    matchAccessibilityLabelledBy(\n      root,\n      getAccessibilityLabelledBy(element),\n      expectedText,\n      options\n    )\n  );\n}\n\nfunction matchAccessibilityLabel(\n  element: ReactTestInstance,\n  extpectedLabel: TextMatch,\n  options: TextMatchOptions\n) {\n  return matches(\n    extpectedLabel,\n    getAccessibilityLabel(element),\n    options.normalizer,\n    options.exact\n  );\n}\n\nfunction matchAccessibilityLabelledBy(\n  root: ReactTestInstance,\n  nativeId: string | undefined,\n  text: TextMatch,\n  options: TextMatchOptions\n) {\n  if (!nativeId) {\n    return false;\n  }\n\n  return (\n    findAll(\n      root,\n      (node) =>\n        node.props.nativeID === nativeId &&\n        matchTextContent(node, text, options)\n    ).length > 0\n  );\n}\n"],"mappings":";;;;;;AACA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,aAAA,GAAAD,OAAA;AAIA,IAAAE,QAAA,GAAAF,OAAA;AACA,IAAAG,iBAAA,GAAAH,OAAA;AAEO,SAASI,cAAcA,CAC5BC,IAAuB,EACvBC,OAA0B,EAC1BC,YAAuB,EACvBC,OAAyB,GAAG,CAAC,CAAC,EAC9B;EACA,OACEC,uBAAuB,CAACH,OAAO,EAAEC,YAAY,EAAEC,OAAO,CAAC,IACvDE,4BAA4B,CAC1BL,IAAI,EACJ,IAAAM,wCAA0B,EAACL,OAAO,CAAC,EACnCC,YAAY,EACZC,OACF,CAAC;AAEL;AAEA,SAASC,uBAAuBA,CAC9BH,OAA0B,EAC1BM,cAAyB,EACzBJ,OAAyB,EACzB;EACA,OAAO,IAAAK,gBAAO,EACZD,cAAc,EACd,IAAAE,mCAAqB,EAACR,OAAO,CAAC,EAC9BE,OAAO,CAACO,UAAU,EAClBP,OAAO,CAACQ,KACV,CAAC;AACH;AAEA,SAASN,4BAA4BA,CACnCL,IAAuB,EACvBY,QAA4B,EAC5BC,IAAe,EACfV,OAAyB,EACzB;EACA,IAAI,CAACS,QAAQ,EAAE;IACb,OAAO,KAAK;EACd;EAEA,OACE,IAAAE,gBAAO,EACLd,IAAI,EACHe,IAAI,IACHA,IAAI,CAACC,KAAK,CAACC,QAAQ,KAAKL,QAAQ,IAChC,IAAAM,kCAAgB,EAACH,IAAI,EAAEF,IAAI,EAAEV,OAAO,CACxC,CAAC,CAACgB,MAAM,GAAG,CAAC;AAEhB"}